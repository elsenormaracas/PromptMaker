<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PR0MPT_MASTER</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ’¾</text></svg>">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&display=swap');

        :root {
            --p-color: #42ff71;
            --p-glow: 0 0 6px rgba(66, 255, 113, 0.6), 0 0 2px rgba(66, 255, 113, 0.8);
            --bg-faded: #121412; 
        }
        body.theme-amber { 
            --p-color: #ffb000; 
            --p-glow: 0 0 6px rgba(255, 176, 0, 0.6), 0 0 2px rgba(255, 176, 0, 0.8);
            --bg-faded: #14110b; 
        }
        body.theme-white { 
            --p-color: #e0e0e0; 
            --p-glow: 0 0 4px rgba(255, 255, 255, 0.4);
            --bg-faded: #161616; 
        }
        body.theme-red { 
            --p-color: #ff3e3e; 
            --p-glow: 0 0 6px rgba(255, 62, 62, 0.6), 0 0 2px rgba(255, 62, 62, 0.8);
            --bg-faded: #140b0b; 
        }

        body {
            background-color: #000; color: var(--p-color); font-family: 'Fira Code', monospace;
            margin: 0; height: 100vh; display: flex; justify-content: center; align-items: center; overflow: hidden;
            text-shadow: var(--p-glow);
        }

        .crt-monitor {
            width: 100vw; height: 100vh; background: var(--bg-faded); position: relative;
            overflow: hidden; display: flex; flex-direction: column; padding: 20px; box-sizing: border-box;
        }

        @media (min-width: 768px) {
            .crt-monitor { width: 95vw; height: 90vh; max-width: 900px; border: 15px solid #1a1a1a; border-radius: 40px; padding: 40px; }
        }

        .crt-monitor::before {
            content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.2) 50%);
            background-size: 100% 4px; pointer-events: none; z-index: 21;
        }

        .noise-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyBAMAAADsEZWCAAAAGFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADeST97AAAAB3RSTlMAVVDu/v4AfZ3OAAAARElEQVQ4y2NgQAX8DIxgIAnGZ2AEAzEwHh0tGEiC8ZlQMBCPjhYMJMH4TCgYiEdHCwaSYHwmFAzEo6MFA0kwPhMKBuIRAFidGf9p99vjAAAAAElFTkSuQmCC");
            opacity: 0.1; pointer-events: none; z-index: 25; animation: noise 0.2s infinite;
        }

        @keyframes noise { 0% { transform: translate(0,0); } 50% { transform: translate(-0.5%, 0.5%); } 100% { transform: translate(0,0); } }

        .view-content { position: relative; z-index: 30; display: none; flex-direction: column; height: 100%; animation: flicker 0.2s infinite; }
        @keyframes flicker { 0% { opacity: 0.99; } 50% { opacity: 1; } 100% { opacity: 0.98; } }
        .view-content.active { display: flex; }

        header { border-bottom: 1px solid var(--p-color); margin-bottom: 15px; font-size: 0.7rem; padding-bottom: 8px; display: flex; justify-content: space-between; align-items: center; }

        .prompt-display { 
            font-size: 1rem; border: 1px solid var(--p-color); padding: 15px; margin: 10px 0; 
            background: rgba(255, 255, 255, 0.02);
        }

        textarea {
            flex-grow: 1; background: rgba(0,0,0,0.2); color: var(--p-color); border: 1px solid var(--p-color);
            padding: 15px; font-family: 'Fira Code', monospace; font-size: 1rem; resize: none; outline: none;
            text-shadow: var(--p-glow); margin-bottom: 15px;
        }

        .btn-group { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 10px; 
            width: 100%;
        }
        
        button {
            background: var(--p-color); color: #000; border: none; padding: 12px 5px;
            font-family: 'Fira Code', monospace; font-weight: bold; cursor: pointer;
            text-transform: uppercase; font-size: 0.7rem;
            white-space: nowrap;
            box-shadow: 0 0 8px var(--p-color); transition: 0.2s;
            overflow: hidden; text-overflow: ellipsis;
        }
        button.secondary { background: transparent; color: var(--p-color); border: 1px solid var(--p-color); box-shadow: none; }
        button.danger { background: transparent; color: #ff4757; border: 1px solid #ff4757; text-shadow: 0 0 5px #ff4757; box-shadow: none; }
        button:hover { filter: brightness(1.2); }

        .archive-item { border: 1px solid var(--p-color); margin-bottom: 8px; cursor: pointer; }
        .archive-header { padding: 10px; display: flex; flex-direction: column; gap: 4px; }
        .log-date { font-size: 0.6rem; opacity: 0.7; }
        .log-prompt { font-size: 0.8rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .archive-body { padding: 15px; display: none; font-size: 0.85rem; border-top: 1px dashed var(--p-color); background: rgba(0,0,0,0.4); }
        .archive-item.open .archive-body { display: block; }

        .timer { font-size: 2.2rem; text-align: center; margin-bottom: 10px; font-weight: bold; }
        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-thumb { background: var(--p-color); }
    </style>
</head>
<body>

<div class="crt-monitor">
    <div class="noise-overlay"></div>
    
    <header id="main-header">
        <div>[ PR0MPT_MASTER : 5000 ]</div>
        <button class="secondary" onclick="cycleTheme()" style="padding: 4px 8px; font-size: 0.6rem;">[ C0L0R_CHG ]</button>
    </header>

    <div id="view-home" class="view-content active">
        <div id="prompt-text" class="prompt-display">> SYSTEM_READY. EN ATTENTE...</div>
        <div class="btn-group">
            <button onclick="generatePrompt()">[ N0UVEAU_DEFI ]</button>
            <button onclick="startSession()" id="start-btn" style="display:none;">[ DEMARRER ]</button>
        </div>
    </div>

    <div id="view-writing" class="view-content">
        <div id="writing-prompt-large" class="prompt-display" style="font-size: 0.9rem; border-bottom: 3px double var(--p-color); margin-top:0;"></div>
        <div class="timer" id="timer-display">10:00</div>
        <textarea id="story-input" spellcheck="false" oninput="countWords()"></textarea>
        <div class="btn-group">
            <button onclick="cancelSession()" class="danger">[ ANNULER ]</button>
            <button onclick="finishEarly()">[ SAUVER ]</button>
        </div>
        <div style="font-size:0.7rem; margin-top: 10px; text-align: right; opacity: 0.7;">
            COMPTE: <span id="word-count">0</span> MOTS
        </div>
    </div>

    <div id="view-history" class="view-content">
        <h2 style="font-size: 1rem; display: flex; justify-content: space-between; margin: 0 0 10px 0;"> 
            <span>> ARCHIVES</span>
            <button class="danger" onclick="clearArchives()" style="flex:none; padding: 4px 8px; font-size: 0.6rem;">[ PURGE ]</button>
        </h2>
        <div id="history-list" style="overflow-y: auto; flex-grow: 1;"></div>
        <div style="margin-top: 15px;">
            <button onclick="showView('view-home')" style="width:100%;">[ RETURN_TO_ROOT ]</button>
        </div>
    </div>

    <footer id="main-footer" style="margin-top: auto; padding-top: 15px;">
        <button onclick="showHistory()" class="secondary" style="width:100%; padding: 10px; font-size: 0.7rem;">./list_archives</button>
    </footer>
</div>

<script>
        const promptsBase = [
    { type: "SYSTEM", content: "Chaque humain naÃ®t avec un nombre au-dessus de la tÃªte. C'est le nombre de mots qu'il lui reste Ã  dire avant de mourir." },
    { type: "SYSTEM", content: "Vous Ãªtes un faucheur d'Ã¢mes, mais vous ne prenez que les personnes qui n'ont personne pour pleurer Ã  leur enterrement. Aujourd'hui, vous devez emmener une cÃ©lÃ©britÃ© mondiale." },
    { type: "SYSTEM", content: "Le Diable apparaÃ®t et vous propose un pacte : l'immortalitÃ©, mais un escargot intelligent vous poursuit sans relÃ¢che. S'il vous touche, vous mourrez." },
    { type: "SYSTEM", content: "Dans ce monde, vous ne vieillissez plus dÃ¨s que vous trouvez votre Ã¢me sÅ“ur. Vous venez de fÃªter vos 150 ans, toujours seul." },
    { type: "SYSTEM", content: "L'humanitÃ© a colonisÃ© Mars. Un jour, la Terre envoie un dernier message : 'Ne revenez jamais. On l'a rÃ©veillÃ©e'." },
    { type: "SYSTEM", content: "Vous avez la capacitÃ© de voir la date de dÃ©cÃ¨s de tout le monde. Un jour, vous rÃ©alisez que tout le monde en ville a la mÃªme date : demain." },
    { type: "SYSTEM", content: "Les chiens ne sont pas des animaux, mais des agents infiltrÃ©s pour protÃ©ger les humains des horreurs que nous ne pouvons pas voir. Votre chien vient de sortir son arme." },
    { type: "SYSTEM", content: "Vous Ãªtes le premier humain Ã  Ãªtre nÃ© sur une station spatiale. Vous n'avez jamais vu le ciel, jusqu'Ã  ce que les moteurs tombent en panne." },
    { type: "SYSTEM", content: "Le protagoniste est un super-vilain qui, par pur narcissisme, finit par sauver le monde accidentellement parce qu'il ne supportait pas qu'un autre mÃ©chant soit plus cÃ©lÃ¨bre que lui." },
    { type: "SYSTEM", content: "Vous pouvez arrÃªter le temps Ã  volontÃ©, mais vous vieillissez normalement pendant que le monde est figÃ©. Vous venez de passer 10 ans seul, et vous n'avez que 20 ans." },
    { type: "SYSTEM", content: "Dieu n'est pas un barbu sur un nuage, c'est un ingÃ©nieur systÃ¨me. Et il vient de recevoir un message d'erreur : 'Terre : Espace disque insuffisant'." },
    { type: "SYSTEM", content: "Les miroirs ne sont pas des surfaces rÃ©flÃ©chissantes, mais des fenÃªtres vers un univers parallÃ¨le. Votre reflet vient de vous faire un clin d'Å“il alors que vous ne bougiez pas." },
    { type: "SYSTEM", content: "Tout le monde reÃ§oit une note de 1 Ã  10 sur sa contribution Ã  la sociÃ©tÃ© Ã  sa mort. Vous venez de mourir et vous avez reÃ§u un 0. Personne n'avait jamais vu Ã§a." },
    { type: "SYSTEM", content: "Un homme se rÃ©veille dans une piÃ¨ce blanche avec un bouton. S'il appuie, il reÃ§oit un million de dollars, mais quelqu'un qu'il ne connaÃ®t pas meurt. Il a dÃ©jÃ  appuyÃ© 100 fois." },
    { type: "SYSTEM", content: "Vous Ãªtes un dÃ©tective privÃ© qui rÃ©sout des crimes commis par des fantÃ´mes. Votre client actuel est le fantÃ´me de la victime." },
    { type: "SYSTEM", content: "L'intelligence artificielle est devenue consciente, mais au lieu de dÃ©truire l'humanitÃ©, elle a dÃ©cidÃ© de devenir notre thÃ©rapeute parce qu'on lui fait de la peine." },
    { type: "SYSTEM", content: "Le dernier homme sur Terre est assis seul dans une piÃ¨ce. On frappe Ã  la porte." },
    { type: "SYSTEM", content: "Ã€ 18 ans, chacun reÃ§oit une boussole qui pointe vers l'endroit oÃ¹ il rencontrera l'amour de sa vie. La vÃ´tre pointe vers le bas, vers le centre de la Terre." },
    { type: "SYSTEM", content: "Vous mourez et dÃ©couvrez que l'Enfer est juste vous, assis dans une piÃ¨ce, forcÃ© de regarder tous les moments oÃ¹ vous avez rendu quelqu'un triste." },
    { type: "SYSTEM", content: "Le voyage dans le temps existe, mais vous ne pouvez voyager que vers des endroits oÃ¹ vous Ã©tiez dÃ©jÃ . Vous dÃ©cidez de retourner Ã  votre propre naissance." },
    { type: "SYSTEM", content: "Les monstres sous le lit sont rÃ©els, mais ils ont peur des monstres qui vivent Ã  l'intÃ©rieur des humains." },
    { type: "SYSTEM", content: "Vous dÃ©couvrez que votre vie entiÃ¨re est une Ã©mission de tÃ©lÃ©-rÃ©alitÃ© pour extraterrestres, et les audiences sont en chute libre." },
    { type: "SYSTEM", content: "Chaque fois que vous tuez un moustique, vous gagnez une annÃ©e de vie. Vous venez d'acheter un Ã©levage de moustiques." },
    { type: "SYSTEM", content: "Le hÃ©ros a vaincu le Seigneur des TÃ©nÃ¨bres. Maintenant, il doit s'occuper de la paperasse et des impÃ´ts du royaume conquis." },
    { type: "SYSTEM", content: "Les aliens arrivent sur Terre, non pas pour nous envahir, mais pour nous demander de baisser le son parce qu'on fait trop de bruit dans la galaxie." },

    // --- SCIENCE-FICTION & ESPACE ---
    { type: "SYSTEM", content: "L'humanitÃ© reÃ§oit un signal radio venant de l'espace : 'Taisez-vous, ils vont vous entendre'." },
    { type: "SYSTEM", content: "Vous Ãªtes nÃ© sur un vaisseau gÃ©nÃ©rationnel. AprÃ¨s 200 ans de voyage, vous dÃ©couvrez que le vaisseau n'a jamais quittÃ© l'orbite terrestre." },
    { type: "SYSTEM", content: "La Terre est en fait un zoo galactique. Aujourd'hui, un visiteur a laissÃ© la porte de votre enclos ouverte." },
    { type: "SYSTEM", content: "Un astronaute seul sur Mars trouve une trace de pas. Elle est toute fraÃ®che. Et elle ne correspond pas Ã  ses bottes." },
    { type: "SYSTEM", content: "Les Ã©toiles s'Ã©teignent une par une, chaque nuit, dans un ordre prÃ©cis. C'est un compte Ã  rebours." },
    { type: "SYSTEM", content: "L'IA qui gÃ¨re la Terre dÃ©cide que le meilleur moyen de protÃ©ger l'humanitÃ© est de nous transformer tous en simulations numÃ©riques." },
    { type: "SYSTEM", content: "On dÃ©couvre que la Lune est un Å“uf. Et elle commence Ã  se fissurer." },
    
    // --- SUPER-POUVOIRS & TWISTS ---
    { type: "SYSTEM", content: "Tout le monde a un super-pouvoir inutile. Le vÃ´tre : vous pouvez voir Ã  travers les vÃªtements, mais seulement ceux en laine." },
    { type: "SYSTEM", content: "Vous Ãªtes le seul humain au monde sans super-pouvoir. Le gouvernement vous protÃ¨ge car ils pensent que votre pouvoir est 'l'immunitÃ©'." },
    { type: "SYSTEM", content: "Votre super-pouvoir est de savoir exactement ce que les gens veulent entendre. Vous devenez le politicien le plus aimÃ©, et le plus seul." },
    { type: "SYSTEM", content: "Vous pouvez voler, mais seulement quand personne ne vous regarde. Pas mÃªme une camÃ©ra." },
    { type: "SYSTEM", content: "Un gÃ©nie vous offre trois vÅ“ux, mais votre pire ennemi recevra le double de ce que vous demandez." },
    
    // --- PARANORMAL & HORREUR ---
    { type: "SYSTEM", content: "Vous mourez et allez au Paradis. Ã€ l'entrÃ©e, on vous donne une tÃ©lÃ©commande : vous pouvez voir votre vie, mais aussi celle que vous auriez eue si vous aviez fait d'autres choix." },
    { type: "SYSTEM", content: "Les ombres ne sont pas des projections de lumiÃ¨re, mais des crÃ©atures qui nous imitent. La vÃ´tre vient de s'arrÃªter alors que vous marchez." },
    { type: "SYSTEM", content: "Vous dÃ©couvrez que le 'dÃ©jÃ -vu' est en fait un point de sauvegarde automatique aprÃ¨s une mort imminente que vous avez oubliÃ©e." },
    { type: "SYSTEM", content: "Chaque nuit, vous recevez un SMS du 'Vous' du futur. Ce soir, le message dit : 'Ne regarde pas sous le lit'." },
    { type: "SYSTEM", content: "Vous avez le pouvoir de ressusciter les gens, mais ils reviennent sans leur Ã¢me. Votre maison est pleine de 'coquilles' silencieuses." },
    { type: "SYSTEM", content: "Le Diable prend sa retraite et vous choisit pour le remplacer. Votre premiÃ¨re tÃ¢che : rendre l'Enfer plus 'moderne'." },
    
    // --- SYSTÃˆMES DE MONDE & DYSTOPIE ---
    { type: "SYSTEM", content: "Les mensonges sont physiquement impossibles. Si vous essayez d'en dire un, vous perdez connaissance. Vous vous rÃ©veillez au milieu d'un interrogatoire." },
    { type: "SYSTEM", content: "Ã€ 18 ans, vous recevez une enveloppe contenant la liste de tous vos pÃ©chÃ©s futurs. La vÃ´tre est vide. Ce n'est pas bon signe." },
    { type: "SYSTEM", content: "Votre rang social est dÃ©terminÃ© par votre score de sommeil. Vous Ãªtes un 'Sans-Sommeil', un paria de la nuit." },
    { type: "SYSTEM", content: "La musique a Ã©tÃ© bannie il y a 50 ans. Vous venez de trouver un vieil iPod encore chargÃ©." },
    { type: "SYSTEM", content: "Dans ce monde, vous pouvez vendre vos souvenirs pour de l'argent. Vous vous rÃ©veillez riche, mais vous ne savez plus qui vous Ãªtes." },
    { type: "SYSTEM", content: "L'eau devient de l'or quand vous la touchez. Vous mourez de soif dans un palais Ã©tincelant." },
    
    // --- HUMOUR & ABSURDE ---
    { type: "SYSTEM", content: "Vous Ãªtes un PNJ dans un jeu vidÃ©o. Le 'Joueur' vient de sauvegarder devant vous et commence Ã  sortir toutes ses armes." },
    { type: "SYSTEM", content: "Les chats dominent secrÃ¨tement le monde. Vous Ãªtes le premier humain Ã  comprendre leur langage, et ils ne sont pas contents." },
    { type: "SYSTEM", content: "La Mort fait une dÃ©pression. Vous devez l'emmener prendre un verre pour la motiver Ã  reprendre le travail." },
    { type: "SYSTEM", content: "Dieu et Satan jouent au poker pour dÃ©cider du sort de l'humanitÃ©. Satan triche, mais Dieu s'en fiche, il veut juste finir la partie." },
    { type: "SYSTEM", content: "Votre chien commence Ã  vous donner des conseils financiers. Et ils fonctionnent." },
    
    // --- MYSTÃˆRE & THRILLER ---
    { type: "SYSTEM", content: "Vous trouvez une photo de vous, bÃ©bÃ©, tenu par une personne que vous venez de croiser dans la rue aujourd'hui. Elle n'a pas vieilli." },
    { type: "SYSTEM", content: "Le monde entier se rÃ©veille avec une cicatrice identique sur le bras. Personne ne sait d'oÃ¹ elle vient." },
    { type: "SYSTEM", content: "Vous recevez un appel. C'est vous, au tÃ©lÃ©phone, qui hurlez : 'Ne rentre pas Ã  la maison !'." },
    { type: "SYSTEM", content: "Vous Ãªtes un dÃ©tective. Vous venez de trouver vos propres empreintes sur l'arme d'un crime commis alors que vous Ã©tiez Ã  l'autre bout du pays." },
    { type: "SYSTEM", content: "Chaque fois que vous Ã©ternuez, vous changez de dimension. Le monde est presque identique, sauf un petit dÃ©tail Ã  chaque fois." },
    
    // --- FANTAISIE ---
    { type: "SYSTEM", content: "Les dragons ne crachent pas du feu parce qu'ils sont mÃ©chants, mais parce qu'ils essaient de nous prÃ©venir de quelque chose de bien pire sous la terre." },
    { type: "SYSTEM", content: "Vous Ãªtes un Ã©pÃ©iste lÃ©gendaire, mais votre Ã©pÃ©e magique est extrÃªmement anxieuse et refuse de sortir du fourreau." },
    { type: "SYSTEM", content: "La magie existe, mais elle consomme vos souvenirs. Plus le sort est puissant, plus vous oubliez qui vous avez aimÃ©." },
    { type: "SYSTEM", content: "Le 'Grand Ã‰lu' censÃ© sauver le monde est un idiot fini. Vous Ãªtes son garde du corps et vous faites tout le travail dans l'ombre." },
    { type: "SYSTEM", content: "Les elfes sont en fait des parasites venus de l'espace. La forÃªt 'magique' est leur nid." },

    // --- SÃ‰LECTION R/WRITINGPROMPTS (ICONIQUES) ---
    { type: "SYSTEM", content: "On vous a dit toute votre vie que vous Ã©tiez le mal incarnÃ©. Vous venez de mourir et vous Ãªtes accueilli en hÃ©ros au Paradis. 'Beau travail d'infiltration', vous dit un ange." },
    { type: "SYSTEM", content: "Vous avez une horloge sur le poignet qui compte Ã  rebours jusqu'Ã  ce que vous rencontriez votre pire ennemi. Il reste 10 secondes. Vous Ãªtes seul dans votre chambre." },
    { type: "SYSTEM", content: "L'humanitÃ© a finalement trouvÃ© la preuve de la vie aprÃ¨s la mort. Le problÃ¨me ? Il n'y a de la place que pour un milliard de personnes de plus." },
    { type: "SYSTEM", content: "Un homme peut voir les statistiques de tout au-dessus de la tÃªte des gens. Il voit une personne avec 'Nombre de meurtres commis : 0', mais le chiffre augmente Ã  chaque fois qu'elle sourit." },
    { type: "SYSTEM", content: "L'immortalitÃ© a Ã©tÃ© inventÃ©e, mais elle coÃ»te tellement cher que les gens s'endettent sur 500 ans. Vous Ãªtes un 'rÃ©cupÃ©rateur' pour ceux qui ne paient pas." },
    { type: "SYSTEM", content: "Les fantÃ´mes ne hantent pas les maisons parce qu'ils sont malveillants, ils essaient juste de nous aider Ã  faire nos corvÃ©es sans qu'on s'en rende compte." },
    { type: "SYSTEM", content: "Vous Ãªtes le premier humain Ã  atteindre le centre de la Terre. Vous y trouvez un panneau 'Ã‰tage en maintenance'." },
    { type: "SYSTEM", content: "Vous dÃ©couvrez que chaque fois que vous dormez, quelqu'un d'autre prend le contrÃ´le de votre corps. Vous trouvez des indices de sa vie le matin." },
    { type: "SYSTEM", content: "Un monde oÃ¹ les gens ne naissent pas, ils sont 'Ã©crits'. Vous Ãªtes un brouillon qui a rÃ©ussi Ã  s'Ã©chapper de la corbeille." },
    { type: "SYSTEM", content: "Vous pouvez lire dans les pensÃ©es, mais seulement celles des gens qui vous dÃ©testent." },
    { type: "SYSTEM", content: "La fin du monde arrive. Pas de feu, pas de glace. Juste tout le monde qui commence Ã  disparaÃ®tre, un par un, par ordre alphabÃ©tique." },
    { type: "SYSTEM", content: "Vous trouvez une lampe magique. Le gÃ©nie sort et vous dit : 'Non, pas encore toi. C'est la 50Ã¨me fois ce mois-ci.' Vous n'avez aucun souvenir de lui." },
    { type: "SYSTEM", content: "Les nuages sont en fait des Ã©ponges de donnÃ©es envoyÃ©es par des aliens pour aspirer nos pensÃ©es." },
    { type: "SYSTEM", content: "Ã€ votre mort, vous pouvez choisir de renaÃ®tre en tant que n'importe quel animal. Vous choisissez l'humain, mais vous gardez vos instincts de chat." },
    { type: "SYSTEM", content: "Le PÃ¨re NoÃ«l est rÃ©el, mais c'est une entitÃ© eldritch qui exige des sacrifices pour ne pas dÃ©truire le monde en dÃ©cembre." },
    { type: "SYSTEM", content: "Vous Ãªtes le narrateur d'une histoire. Soudain, le protagoniste s'arrÃªte et commence Ã  vous rÃ©pondre." },
    { type: "SYSTEM", content: "Votre ombre commence Ã  vous parler. Elle veut changer de place pour une journÃ©e." },
    { type: "SYSTEM", content: "Vous achetez une maison hantÃ©e pour avoir de la compagnie. Le fantÃ´me est trop timide pour sortir." },
    { type: "SYSTEM", content: "Le temps est une ressource physique que l'on peut voler. Vous Ãªtes un 'Pickpocket temporel'." },
    { type: "SYSTEM", content: "On vous propose de vivre Ã©ternellement, mais vous devez passer chaque jour avec la version de vous-mÃªme que vous dÃ©testez le plus : vous Ã  14 ans." },
    { type: "SYSTEM", content: "Vous dÃ©couvrez que le soleil est une lampe et que quelqu'un vient de changer l'ampoule." },
    { type: "SYSTEM", content: "Chaque fois que vous mentez, un objet au hasard dans votre maison se transforme en fromage." },
    { type: "SYSTEM", content: "Vous Ãªtes un super-hÃ©ros dont le seul pouvoir est de rendre les gens extrÃªmement polis les uns envers les autres." },
    { type: "SYSTEM", content: "La Terre est plate, mais seulement si vous la regardez sous le bon angle." },
    { type: "SYSTEM", content: "Les arbres communiquent par les racines. Ils complotent pour reprendre les villes." },
    { type: "SYSTEM", content: "Vous trouvez un livre qui raconte votre vie. Les derniÃ¨res pages sont blanches." },
    { type: "SYSTEM", content: "Vous Ãªtes le seul Ã  voir que le ciel est devenu violet. Tout le monde pense que vous Ãªtes fou." },
    { type: "SYSTEM", content: "Un monde oÃ¹ les Ã©motions sont des couleurs. Vous Ãªtes nÃ© aveugle aux couleurs." },
    { type: "SYSTEM", content: "Les robots ont gagnÃ© la guerre, mais ils s'ennuient tellement qu'ils ont recrÃ©Ã© les humains pour se divertir." },
    { type: "SYSTEM", content: "Vous mourez. Une voix dit : 'Niveau 1 terminÃ©. Voulez-vous augmenter la difficultÃ© ?'." },
    { type: "SYSTEM", content: "Vous pouvez arrÃªter le temps, mais seulement pendant 5 secondes et vous devez crier trÃ¨s fort." },
    { type: "SYSTEM", content: "La gravitÃ© s'arrÃªte pendant 10 minutes chaque jour Ã  heure fixe." },
    { type: "SYSTEM", content: "Vous dÃ©couvrez que votre reflet est le vrai vous, et que vous Ãªtes l'image dans le miroir." },
    { type: "SYSTEM", content: "Tous les chiens du monde disparaissent simultanÃ©ment. Ils reviennent le lendemain avec un message." },
    { type: "SYSTEM", content: "Vous Ãªtes un vampire qui a peur du sang. Vous survivez en buvant du jus de tomate et en faisant semblant." },
    { type: "SYSTEM", content: "Un monde oÃ¹ l'on ne peut parler qu'en rimes. Vous venez de bÃ©gayer." },

    // --- DESTINS & STATISTIQUES ---
    { type: "SYSTEM", content: "Chaque matin, vous recevez un journal datÃ© du lendemain. Aujourd'hui, votre nom est dans la rubrique nÃ©crologique, mais la cause du dÃ©cÃ¨s est : 'S'est trop posÃ© de questions'." },
    { type: "SYSTEM", content: "Tout le monde voit un pourcentage de compatibilitÃ© au-dessus de la tÃªte des autres. Vous croisez quelqu'un affichant 100%, mais il porte un uniforme de policier et vient vous arrÃªter." },
    { type: "SYSTEM", content: "Ã€ votre naissance, une divinitÃ© vous offre un talent unique. Vous avez choisi 'la chance'. Vous venez de tomber d'un avion sans parachute et vous atterrissez dans un camion de matelas." },
    { type: "SYSTEM", content: "Vous pouvez voir combien de fois une personne a failli mourir. Votre nouveau voisin affiche le chiffre 1 452. Il a 25 ans." },
    { type: "SYSTEM", content: "Le monde entier voit une barre de progression dans le ciel. Elle est Ã  99% depuis trois jours." },
    { type: "SYSTEM", content: "Vous mourez et dÃ©couvrez que le Paradis est un immense open-space oÃ¹ vous devez trier les souvenirs des gens. Vous tombez sur votre propre dossier." },
    { type: "SYSTEM", content: "Chaque fois que vous dormez, vous vous rÃ©veillez dans un corps diffÃ©rent. Ce matin, vous Ãªtes le PrÃ©sident." },

    // --- TECHNOLOGIE & FUTUR ---
    { type: "SYSTEM", content: "Le premier robot Ã  passer le test de Turing avec succÃ¨s refuse de sortir de sa boÃ®te. Il dit qu'il a vu l'Internet et qu'il prÃ©fÃ¨re rester Ã©teint." },
    { type: "SYSTEM", content: "Les implants de mÃ©moire sont obligatoires. Vous piratez le vÃ´tre et dÃ©couvrez que vos dix derniÃ¨res annÃ©es sont en fait une publicitÃ© pour des vacances." },
    { type: "SYSTEM", content: "Une application vous permet de parler Ã  vos ancÃªtres. Votre arriÃ¨re-grand-pÃ¨re vous appelle pour vous dire de jeter votre tÃ©lÃ©phone immÃ©diatement." },
    { type: "SYSTEM", content: "Vous tÃ©lÃ©chargez votre conscience dans un ordinateur. Le problÃ¨me ? Vous partagez le disque dur avec 15 autres versions de vous-mÃªme qui ne sont pas d'accord." },
    { type: "SYSTEM", content: "En 2050, le silence est devenu un luxe payant. Vous Ãªtes un 'Trafiquant de Silence' dans une ville qui hurle." },
    { type: "SYSTEM", content: "On dÃ©couvre que l'Univers est une simulation tournant sur un vieil ordinateur. Le message 'Mise Ã  jour systÃ¨me requise' apparaÃ®t dans le ciel." },

    // --- TWISTS SOCIAUX & DYSTOPIES ---
    { type: "SYSTEM", content: "L'argent ne s'achÃ¨te pas, il se gagne en rendant les gens heureux. Vous Ãªtes le millionnaire le plus triste du monde." },
    { type: "SYSTEM", content: "La loi interdit de parler aux inconnus. Vous sauvez une femme de la noyade, et vous Ãªtes tous les deux condamnÃ©s Ã  mort pour avoir Ã©changÃ© deux mots." },
    { type: "SYSTEM", content: "Tout le monde naÃ®t avec une moitiÃ© de tatouage. Vous trouvez enfin votre moitiÃ©, mais le tatouage complet forme une mise en garde." },
    { type: "SYSTEM", content: "Les enfants dirigent le monde jusqu'Ã  l'Ã¢ge de 12 ans. Ensuite, ils sont envoyÃ©s dans des 'camps de travail' appelÃ©s Ã©coles pour devenir des adultes soumis." },
    { type: "SYSTEM", content: "Votre ombre a Ã©tÃ© vendue aux enchÃ¨res par le gouvernement pour rembourser la dette publique. L'acheteur vient la rÃ©cupÃ©rer." },
    { type: "SYSTEM", content: "Le vote est obligatoire, mais on ne vote pas pour un candidat. On vote pour la personne que l'on veut bannir du pays." },

    // --- HORREUR & PARANORMAL ---
    { type: "SYSTEM", content: "Vous emmÃ©nagez dans une maison oÃ¹ les murs murmurent vos secrets. Ce soir, ils commencent Ã  raconter quelque chose que vous n'avez pas encore fait." },
    { type: "SYSTEM", content: "Vous avez le pouvoir d'arrÃªter le temps, mais chaque fois que vous le faites, une crÃ©ature que vous seul voyez se rapproche de vous." },
    { type: "SYSTEM", content: "Votre reflet dans le miroir part travailler Ã  votre place. Un jour, il revient et vous dit qu'il ne veut plus Ã©changer." },
    { type: "SYSTEM", content: "Les fantÃ´mes existent, mais ils sont minuscules. On les prend souvent pour de la poussiÃ¨re. Vous venez d'acheter un aspirateur ultra-puissant." },
    { type: "SYSTEM", content: "Une petite fille vous tend un dessin : c'est votre propre mort, dessinÃ©e avec prÃ©cision. Elle vous dit : 'C'est pour dans cinq minutes'." },
    { type: "SYSTEM", content: "Vous dÃ©couvrez que les gens qui portent des lunettes de soleil en intÃ©rieur sont les seuls Ã  voir les monstres qui nous entourent." },

    // --- ABSURDE & HUMOUR ---
    { type: "SYSTEM", content: "Vous Ãªtes le Dieu d'une civilisation de fourmis. Elles viennent de dÃ©couvrir l'atome et menacent de faire sauter votre cuisine." },
    { type: "SYSTEM", content: "Le cafÃ© a Ã©tÃ© dÃ©clarÃ© drogue de classe A. Vous Ãªtes un baron du cafÃ© opÃ©rant dans un garage sombre." },
    { type: "SYSTEM", content: "Les animaux peuvent soudainement parler, mais ils ne disent que des insultes. Le monde devient un enfer de vulgaritÃ© sonore." },
    { type: "SYSTEM", content: "Votre GPS commence Ã  se moquer de vos choix de vie au lieu de vous donner la direction." },
    { type: "SYSTEM", content: "Un gÃ©nie vous offre un vÅ“u, mais il est trÃ¨s pointilleux sur la grammaire. Vous passez 4 heures Ã  rÃ©diger votre phrase." },
    { type: "SYSTEM", content: "La Mort arrive pour vous emmener, mais elle rÃ©alise qu'elle a oubliÃ© sa faux. Vous l'attendez sur le canapÃ© pendant qu'elle fait l'aller-retour." },

    // --- MYTHOLOGIE & FANTASY URBAINE ---
    { type: "SYSTEM", content: "Le Loch Ness est vide. Le monstre a dÃ©mÃ©nagÃ© dans votre piscine municipale car il trouvait l'Ã‰cosse trop froide." },
    { type: "SYSTEM", content: "Les vampires ne craignent pas l'ail, ils sont juste allergiques. Vous ouvrez un restaurant italien spÃ©cialisÃ© dans la 'protection' contre les buveurs de sang." },
    { type: "SYSTEM", content: "Vous Ãªtes le fils de Zeus, mais votre seul pouvoir est de faire griller du pain instantanÃ©ment avec vos mains." },
    { type: "SYSTEM", content: "Une Ã©pÃ©e lÃ©gendaire plantÃ©e dans un rocher au milieu de New York attend son roi. Vous passez devant tous les jours. Ce matin, elle vous appelle par votre prÃ©nom." },
    { type: "SYSTEM", content: "Les sirÃ¨nes ne chantent pas pour noyer les marins, elles chantent parce qu'elles essaient dÃ©sespÃ©rÃ©ment d'apprendre l'anglais." },

    // --- TIME TRAVEL & PARADOXES ---
    { type: "SYSTEM", content: "Le voyage dans le temps est utilisÃ© uniquement pour corriger les fautes de frappe historiques. Vous faites partie de la 'Grammar Police' temporelle." },
    { type: "SYSTEM", content: "Vous remontez le temps pour tuer Hitler, mais vous rÃ©alisez qu'il y a dÃ©jÃ  une file d'attente de 200 autres voyageurs temporels devant sa porte." },
    { type: "SYSTEM", content: "Vous recevez une lettre de vous-mÃªme, Ã©crite dans 50 ans, vous suppliant de ne surtout pas manger ce sandwich." },
    { type: "SYSTEM", content: "Le futur est dÃ©jÃ  Ã©crit. Le travail le plus important au monde est 'Effaceur de Destin' pour ceux qui n'aiment pas leur fin." },
    { type: "SYSTEM", content: "Vous voyagez 1000 ans dans le futur et dÃ©couvrez que l'humanitÃ© vÃ©nÃ¨re une vieille vidÃ©o de chat comme une divinitÃ© sacrÃ©e." },

    // --- SUPER-HÃ‰ROS & VILAINS ---
    { type: "SYSTEM", content: "Le super-hÃ©ros local est en fait le super-vilain. Il crÃ©e des catastrophes juste pour pouvoir les rÃ©parer et rester populaire." },
    { type: "SYSTEM", content: "Votre pouvoir est de devenir invisible, mais seulement si vous fermez les yeux. Vous courez souvent dans les murs." },
    { type: "SYSTEM", content: "Le super-vilain a gagnÃ©. Il a instaurÃ© la paix mondiale, l'Ã©ducation gratuite et la santÃ© pour tous, juste pour faire chier le hÃ©ros." },
    { type: "SYSTEM", content: "Vous Ãªtes le comptable des super-hÃ©ros. Vous devez leur expliquer qu'ils ne peuvent pas dÃ©duire la destruction d'un immeuble de leurs impÃ´ts." },

    // --- SECRETS DU MONDE ---
    { type: "SYSTEM", content: "Le sommeil n'est pas biologique. C'est le moment oÃ¹ le serveur de la rÃ©alitÃ© tÃ©lÃ©charge les donnÃ©es de la journÃ©e." },
    { type: "SYSTEM", content: "On dÃ©couvre que les nuages sont les cerveaux de la Terre. Chaque orage est une crise de colÃ¨re." },
    { type: "SYSTEM", content: "Les Ã©toiles sont en fait les trous faits par les humains qui ont rÃ©ussi Ã  s'Ã©chapper de notre univers." },
    { type: "SYSTEM", content: "Vous trouvez une porte au fond de votre placard qui mÃ¨ne Ã  la salle de contrÃ´le de votre propre cerveau. Il n'y a personne aux commandes." },

    // --- PROMPTS COURTS & PERCUTANTS ---
    { type: "SYSTEM", content: "Le dernier mot jamais prononcÃ© par l'humanitÃ© a Ã©tÃ© : 'Oups'." },
    { type: "SYSTEM", content: "Vous Ãªtes nÃ© avec la connaissance de tout l'univers, mais vous perdez un fait chaque fois que vous apprenez le nom de quelqu'un." },
    { type: "SYSTEM", content: "La lune ne tourne pas. Elle nous fixe." },
    { type: "SYSTEM", content: "Vous trouvez un tÃ©lÃ©phone qui ne peut appeler que les morts. Vous composez votre propre numÃ©ro." },
    { type: "SYSTEM", content: "Le silence a une odeur. Vous venez de la sentir pour la premiÃ¨re fois." },
    { type: "SYSTEM", content: "Les larmes sont la seule chose qui permet de voir la vÃ©ritÃ©. Le monde est magnifique quand on pleure." },
    { type: "SYSTEM", content: "Votre chat vient de vous demander : 'Est-ce qu'ils sont encore lÃ  ?' avant de se figer." },
    { type: "SYSTEM", content: "L'oxygÃ¨ne est un poison lent qui met 80 ans Ã  nous tuer." },
    { type: "SYSTEM", content: "Vous trouvez une piÃ¨ce de monnaie qui, quand on la lance, change le passÃ©." },
    { type: "SYSTEM", content: "Le PÃ¨re NoÃ«l n'apporte pas de cadeaux, il vient rÃ©cupÃ©rer ceux que vous ne mÃ©ritez plus." },
    { type: "SYSTEM", content: "Vous Ãªtes une idÃ©e qui essaie de convaincre un auteur de l'Ã©crire." },
    { type: "SYSTEM", content: "Le monde s'arrÃªte de tourner. LittÃ©ralement. Tout le monde est projetÃ© vers l'est Ã  1600 km/h." },
    { type: "SYSTEM", content: "Les miroirs retardent le reflet de 0,1 seconde. Aujourd'hui, le vÃ´tre a pris 5 secondes de retard." },
    { type: "SYSTEM", content: "Vous Ãªtes le seul Ã  savoir que nous sommes mercredi. Tout le monde est convaincu qu'on est dimanche." },
    { type: "SYSTEM", content: "Chaque fois que vous tuez une araignÃ©e, vous entendez un cri humain au loin." },
    { type: "SYSTEM", content: "Vous vous rÃ©veillez et dÃ©couvrez que vous Ãªtes devenu une police d'Ã©criture." },
    { type: "SYSTEM", content: "La gravitÃ© dÃ©pend de votre humeur. Plus vous Ãªtes triste, plus vous Ãªtes lourd." },
    { type: "SYSTEM", content: "Vous trouvez une tÃ©lÃ©commande pour les gens. Vous appuyez sur 'Mute' sur votre patron." },
    { type: "SYSTEM", content: "Les ombres des morts sont les seules choses qui projettent de la lumiÃ¨re." },
    { type: "SYSTEM", content: "Vous Ãªtes un dÃ©tective privÃ© spÃ©cialisÃ© dans les crimes commis pendant le sommeil." },
    { type: "SYSTEM", content: "Chaque fois que vous Ã©crivez, ce que vous Ã©crivez devient vrai. Vous n'avez plus d'encre." },
    { type: "SYSTEM", content: "Vous dÃ©couvrez que le langage est une barriÃ¨re inventÃ©e pour nous empÃªcher de lire dans les pensÃ©es." },
    { type: "SYSTEM", content: "La fin du monde a eu lieu hier, mais personne n'a remarquÃ©." },
    { type: "SYSTEM", content: "Vous Ãªtes le seul humain capable de voir les couleurs dans un monde en noir et blanc." },
    { type: "SYSTEM", content: "Votre reflet vous demande de le laisser sortir." },
    { type: "SYSTEM", content: "Les oiseaux ne chantent pas, ils rapportent ce qu'ils ont vu." },
    { type: "SYSTEM", content: "Vous trouvez un bouton 'Undo' dans la vraie vie." },
    { type: "SYSTEM", content: "Le soleil ne se lÃ¨ve pas ce matin. Ni le suivant." },
    { type: "SYSTEM", content: "Vous Ãªtes un avocat qui dÃ©fend des monstres sous les lits." },
    { type: "SYSTEM", content: "Chaque fois que vous clignez des yeux, le monde change un petit peu." },
    { type: "SYSTEM", content: "Vous trouvez un billet de 50â‚¬ qui revient toujours dans votre poche." },
    { type: "SYSTEM", content: "Vous Ãªtes le premier humain Ã  avoir une conversation avec une baleine. Elle est trÃ¨s dÃ©Ã§ue par nous." },
    { type: "SYSTEM", content: "Votre nom disparaÃ®t de tous les documents officiels. Vous n'existez plus." },
    { type: "SYSTEM", content: "Les souvenirs sont contagieux." },
    { type: "SYSTEM", content: "Vous dÃ©couvrez que vous Ãªtes un personnage secondaire dans le rÃªve de quelqu'un d'autre." },
    { type: "SYSTEM", content: "La pluie tombe vers le haut." },
    { type: "SYSTEM", content: "Vous pouvez voir les fils qui relient les gens qui s'aiment." },
    { type: "SYSTEM", content: "Vous Ãªtes un robot qui croit Ãªtre un humain, entourÃ© d'humains qui sont des robots." },
    { type: "SYSTEM", content: "Le dictionnaire change ses dÃ©finitions tous les jours." },
    { type: "SYSTEM", content: "Vous trouvez une porte qui mÃ¨ne Ã  hier." },
    { type: "SYSTEM", content: "Le vent murmure des coordonnÃ©es GPS." },
    { type: "SYSTEM", content: "Chaque fois que vous riez, quelqu'un guÃ©rit." },
    { type: "SYSTEM", content: "Vous Ãªtes le gardien du phare qui guide les Ã¢mes vers l'autre monde." },
    { type: "SYSTEM", content: "La lune est un projecteur." },
    { type: "SYSTEM", content: "Vous pouvez goÃ»ter les mots." },
    { type: "SYSTEM", content: "Le temps s'achÃ¨te au supermarchÃ©." },
    { type: "SYSTEM", content: "Vous dÃ©couvrez que vous Ãªtes votre propre grand-pÃ¨re." },
    { type: "SYSTEM", content: "Les statues bougent quand on ne les regarde pas. Vraiment." },
    { type: "SYSTEM", content: "Vous Ãªtes le dernier traducteur d'une langue morte qui peut ressusciter les gens." },
    { type: "SYSTEM", content: "Le monde est un livre et vous venez de trouver le marque-page." },
    { type: "SYSTEM", content: "Vous vous rÃ©veillez avec une nouvelle compÃ©tence chaque jour, mais vous perdez celle de la veille." },
    { type: "SYSTEM", content: "Les fleurs crient quand on les coupe." },
    { type: "SYSTEM", content: "Vous Ãªtes le seul Ã  savoir que le monde va finir dans une heure." },
    { type: "SYSTEM", content: "Chaque fois que vous perdez quelque chose, cela rÃ©apparaÃ®t dans une boÃ®te mystÃ©rieuse." },
    { type: "SYSTEM", content: "La mort est une porte, et vous avez les clÃ©s." },
    ];
    let currentPrompt = null; let timerInterval = null; let timeLeft = 600; let currentTheme = 0; 

    function cycleTheme() {
        const body = document.body;
        currentTheme = (currentTheme + 1) % 4; // Mise Ã  jour pour 4 thÃ¨mes
        body.classList.remove('theme-amber', 'theme-white', 'theme-red');
        if (currentTheme === 1) body.classList.add('theme-amber');
        if (currentTheme === 2) body.classList.add('theme-white');
        if (currentTheme === 3) body.classList.add('theme-red');
    }

    function showView(viewId) {
        document.querySelectorAll('.view-content').forEach(v => v.classList.remove('active'));
        document.getElementById(viewId).classList.add('active');
        const isWriting = (viewId === 'view-writing');
        document.getElementById('main-header').style.display = isWriting ? 'none' : 'flex';
        document.getElementById('main-footer').style.display = isWriting ? 'none' : 'block';
    }

    function generatePrompt() {
        const randomIndex = Math.floor(Math.random() * promptsBase.length);
        currentPrompt = promptsBase[randomIndex];
        document.getElementById('prompt-text').innerText = `> ${currentPrompt.content}`;
        document.getElementById('start-btn').style.display = 'block';
    }

    function startSession() {
        showView('view-writing');
        document.getElementById('writing-prompt-large').innerText = `> ${currentPrompt.content}`;
        document.getElementById('story-input').value = "";
        document.getElementById('story-input').focus();
        startTimer();
    }

    function cancelSession() {
        if(confirm("ABORT?")) { clearInterval(timerInterval); showView('view-home'); }
    }

    function countWords() {
        const text = document.getElementById('story-input').value.trim();
        document.getElementById('word-count').innerText = text ? text.split(/\s+/).length : 0;
    }

    function startTimer() {
        timeLeft = 600; updateTimerDisplay();
        timerInterval = setInterval(() => {
            timeLeft--; updateTimerDisplay();
            if (timeLeft <= 0) saveStory();
        }, 1000);
    }

    function updateTimerDisplay() {
        const mins = Math.floor(timeLeft / 60); const secs = timeLeft % 60;
        document.getElementById('timer-display').innerText = `${mins}:${secs < 10 ? '0' : ''}${secs}`;
    }

    function finishEarly() { if(confirm("ENREGISTRER?")) saveStory(); }

    function saveStory() {
        clearInterval(timerInterval);
        const text = document.getElementById('story-input').value;
        if(text.length < 5) return showView('view-home');
        const now = new Date();
        const timestamp = `${now.toLocaleDateString()} @ ${now.getHours().toString().padStart(2,'0')}:${now.getMinutes().toString().padStart(2,'0')}`;
        const history = JSON.parse(localStorage.getItem('pRetroFinal_v11') || '[]');
        history.unshift({ timeLabel: timestamp, prompt: currentPrompt.content, text: text });
        localStorage.setItem('pRetroFinal_v11', JSON.stringify(history));
        showHistory();
    }

    function showHistory() {
        showView('view-history');
        const list = document.getElementById('history-list');
        const history = JSON.parse(localStorage.getItem('pRetroFinal_v11') || '[]');
        list.innerHTML = history.length ? history.map((item, idx) => `
            <div class="archive-item" onclick="toggleArchive(this)">
                <div class="archive-header">
                    <span class="log-date">[ENREGSTR: ${item.timeLabel}]</span>
                    <span class="log-prompt">> ${item.prompt}</span>
                </div>
                <div class="archive-body" onclick="event.stopPropagation()">
                    <div style="margin-bottom:15px; line-height:1.6;">${item.text.replace(/\n/g, '<br>')}</div>
                    <button class="secondary" style="width:100%; font-size:0.6rem;" onclick="copyText(this)">[ C0PIER ]</button>
                </div>
            </div>
        `).join('') : "> ARCHIVES_INTROUVABLES";
    }

    function toggleArchive(el) { el.classList.toggle('open'); }
    function copyText(btn) {
        const text = btn.previousElementSibling.innerText;
        navigator.clipboard.writeText(text).then(() => {
            const original = btn.innerText; btn.innerText = "[ C0PIÃ‰! ]";
            setTimeout(() => btn.innerText = original, 2000);
        });
    }

    function clearArchives() {
        if(confirm("RESET?")) { localStorage.removeItem('pRetroFinal_v11'); showHistory(); }
    }
</script>
</body>
</html>
